<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Doss's Daily Word Drop â€“ Hangman Edition</title>
<link rel="icon" href="favicon.png" type="image/png">
<style>
  body { 
    font-family: 'Poppins', Arial, sans-serif; 
    text-align: center; 
    margin: 0; 
    padding: 40px 0; 
    background: linear-gradient(to bottom, #f9f9f9, #e0f7fa);
    min-height: 100vh; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
  }
  h1 { 
    color: #2c3e50; 
    font-size: 2em; 
    margin-bottom: 10px; 
  }
  #date { font-size: 0.9em; color: #555; margin-bottom: 10px; }
  #clue {
    font-size: 1.2em;
    margin: 15px;
    color: #2c3e50;
    max-width: 90%;
    padding: 15px 20px;
    border-radius: 15px;
    background: rgba(255, 255, 255, 0.4);
    backdrop-filter: blur(8px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    border: 1px solid rgba(255,255,255,0.3);
    transition: transform 0.3s ease, background 0.3s ease;
  }
  #clue:hover { transform: scale(1.03); background: rgba(255, 255, 255, 0.6); }
  @keyframes clueBounce {
    0% { transform: translateY(0); }
    30% { transform: translateY(-10px); }
    50% { transform: translateY(0); }
    70% { transform: translateY(-5px); }
    100% { transform: translateY(0); }
  }
  #clue.bounce { animation: clueBounce 0.8s ease; }

  #word {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
    padding: 10px;
    margin: 0 auto;
    max-width: 95vw;
    box-sizing: border-box;
    font-size: 2rem;
  }
  #word span {
    display: inline-block;
    min-width: 30px;
    height: 60px;
    line-height: 60px;
    border-bottom: 3px solid #2c3e50;
    text-align: center;
    font-weight: bold;
    color: #2c3e50;
  }
  #word span.show { transform: scale(1.2); color: #2980b9; }

  #letters { display: flex; flex-wrap: wrap; justify-content: center; }
  #letters button { 
    margin: 5px; 
    padding: 18px 22px;
    font-size: 1.1em; 
    cursor: pointer; 
    border: none; 
    border-radius: 10px; 
    background: linear-gradient(135deg, #2980b9, #3498db);
    color: white; 
    box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
    transition: background 0.3s, transform 0.2s;
  }
  #letters button:hover:not(:disabled) { 
    background: linear-gradient(135deg, #3498db, #5dade2);
    transform: scale(1.05);
  }
  #letters button:disabled { cursor: not-allowed; transform: none; }
  #letters button.clicked { background: #95a5a6 !important; color: #fff !important; transform: scale(0.95); }
  #letters button.correct { background: #27ae60 !important; color: #fff !important; }
  #letters button.wrong { background: #e74c3c !important; color: #fff !important; }
  @keyframes bounce { 0% {transform: scale(1);} 30% {transform: scale(1.3);} 50% {transform: scale(0.9);} 70% {transform: scale(1.1);} 100% {transform: scale(1);} }
  button.correct.bounce, button.wrong.bounce { animation: bounce 0.4s ease; }

  #wrong-guesses { margin: 20px; font-size: 1.2em; color: #c0392b; }
  #message { font-size: 1.3em; margin: 15px; color: green; min-height: 25px; }

  #hangman { margin: 20px auto; width: 160px; height: 200px; position: relative; }
  .stick-part { display: none; position: absolute; background-color: #000; opacity: 0; transition: opacity 0.5s ease; }
  .stick-part.show { display: block; opacity: 1; }

  @keyframes hangerSwing {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(2deg); }
    50% { transform: rotate(-2deg); }
    75% { transform: rotate(1deg); }
    100% { transform: rotate(0deg); }
  }
  #hangman.swing { animation: hangerSwing 0.8s ease; }

  #controls { margin-top: 10px; display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
  #controls button { padding: 10px 18px; font-size: 1em; border-radius: 10px; border: none; cursor: pointer; box-shadow: 1px 1px 4px rgba(0,0,0,0.2); background: #f1c40f; color: #2c3e50; transition: background 0.3s; }
  #controls button:hover { background: #f39c12; }

  #start { margin-top: 20px; padding: 12px 25px; font-size: 1.1em; cursor: pointer; background-color: #27ae60; color: white; border: none; border-radius: 12px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); transition: background 0.3s, transform 0.2s; }
  #start:hover { background-color: #2ecc71; transform: scale(1.05); }

  #bg-music { position: fixed; top: 10px; right: 10px; z-index: 999; cursor: pointer; font-size: 1.2em; padding: 5px 10px; border-radius: 10px; background: #3498db; color: white; box-shadow: 1px 1px 4px rgba(0,0,0,0.3); }
  #bg-music:hover { background: #2980b9; }
</style>
</head>
<body>

<h1>Doss's Daily Word Drop â€“ Hangman Edition</h1>
<div id="date"></div>
<div id="clue">Loading daily wordâ€¦</div>
<div id="word"></div>
<div id="letters"></div>
<div id="wrong-guesses">Wrong guesses: 0 / 6</div>
<div id="message"></div>
<div id="hangman">
  <div id="base" class="stick-part"></div>
  <div id="pole" class="stick-part"></div>
  <div id="beam" class="stick-part"></div>
  <div id="rope" class="stick-part"></div>
  <div id="head" class="stick-part"></div>
  <div id="body" class="stick-part"></div>
  <div id="left-arm" class="stick-part"></div>
  <div id="right-arm" class="stick-part"></div>
  <div id="left-leg" class="stick-part"></div>
  <div id="right-leg" class="stick-part"></div>
</div>

<div id="controls">
  <button id="hint">Hint</button>
  <button id="skip">Skip Word</button>
</div>

<button id="start">Restart Hangman</button>
<button id="bg-music">ðŸŽµ Play Music</button>

<!-- Audio -->
<audio id="correct-sound" src="https://www.soundjay.com/button/sounds/button-3.mp3"></audio>
<audio id="wrong-sound" src="https://www.soundjay.com/button/sounds/button-10.mp3"></audio>
<audio id="bg-audio" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" loop></audio>

<script>
let word = "";
let clueText = "";
let guessed = [];
let wrong = 0;
const maxWrong = 6;
const humanParts = ["head","body","left-arm","right-arm","left-leg","right-leg"];

const wordDiv = document.getElementById('word');
const lettersDiv = document.getElementById('letters');
const wrongDiv = document.getElementById('wrong-guesses');
const messageDiv = document.getElementById('message');
const clueDiv = document.getElementById('clue');
const dateDiv = document.getElementById('date');

const correctSound = document.getElementById("correct-sound");
const wrongSound = document.getElementById("wrong-sound");
const bgAudio = document.getElementById("bg-audio");

function updateDate() {
  const today = new Date();
  const options = { year: 'numeric', month: 'long', day: 'numeric' };
  dateDiv.textContent = "Word of the Day: " + today.toLocaleDateString(undefined, options);
}
updateDate();

function fetchWord() {
  fetch("https://raw.githubusercontent.com/lourdselt/DOSS-S-DAILY-WORD-DROP---Hangman-Game/main/words.json")
    .then(res => res.json())
    .then(data => {
      word = data.word.toUpperCase();
      clueText = data.clue;
      clueDiv.textContent = (data.icon || "ðŸ’¡") + " Clue: " + clueText;
      clueDiv.classList.add("bounce");
      setTimeout(()=> clueDiv.classList.remove("bounce"), 800);
      startGame();
    })
    .catch(err => {
      console.error("Error loading words.json:", err);
      clueDiv.textContent = "Error loading daily word!";
    });
}

function displayWord() {
  wordDiv.innerHTML = "";
  for (let char of word) {
    const span = document.createElement('span');
    span.textContent = guessed.includes(char) ? char : "\u00A0";
    if (guessed.includes(char)) span.classList.add("show");
    wordDiv.appendChild(span);
  }
}

function createButtons() {
  lettersDiv.innerHTML = "";
  for (let i = 65; i <= 90; i++) {
    const letter = String.fromCharCode(i);
    const button = document.createElement('button');
    button.textContent = letter;
    button.onclick = () => guess(letter, button);
    lettersDiv.appendChild(button);
  }
}

function guess(letter, btn) {
  if (guessed.includes(letter)) return;
  guessed.push(letter);
  btn.disabled = true;
  btn.classList.add("clicked");

  if (!word.includes(letter)) {
    btn.classList.add("wrong","bounce");
    wrongSound.currentTime = 0; wrongSound.play();
    setTimeout(()=> btn.classList.remove("bounce"), 400);

    if (wrong < humanParts.length) {
      const part = document.getElementById(humanParts[wrong]);
      part.classList.add("show");
    }
    wrong++;
    wrongDiv.textContent = `Wrong guesses: ${wrong} / ${maxWrong}`;

    if (wrong === 2) messageDiv.textContent = "Keep trying! You can do it!";
    if (wrong === 4) messageDiv.textContent = "Almost there, donâ€™t give up!";

    if (wrong >= maxWrong) {
      messageDiv.style.color = "red";
      messageDiv.textContent = "Game Over! Try again tomorrow.";
      disableAllButtons();
    }
  } else {
    btn.classList.add("correct","bounce");
    correctSound.currentTime = 0; correctSound.play();
    setTimeout(()=> btn.classList.remove("bounce"), 400);

    displayWord();
    if (!word.split("").some(l => !guessed.includes(l))) {
      messageDiv.style.color = "green";
      messageDiv.textContent = "ðŸŽ‰ Congratulations! You found the word!";
      triggerConfetti();
      disableAllButtons();
    }
  }
}

function disableAllButtons() {
  const buttons = lettersDiv.getElementsByTagName('button');
  for (let btn of buttons) btn.disabled = true;
}

function startGame() {
  guessed = [];
  wrong = 0;
  messageDiv.textContent = "";
  wrongDiv.textContent = `Wrong guesses: 0 / ${maxWrong}`;

  humanParts.forEach(id => document.getElementById(id).classList.remove("show"));
  ['base','pole','beam','rope'].forEach(p => document.getElementById(p).classList.add("show"));

  // Hanger swing
  const hangman = document.getElementById('hangman');
  hangman.classList.add("swing");
  setTimeout(() => hangman.classList.remove("swing"), 800);

  displayWord();
  createButtons();
}

// Hint and Skip buttons (simple alert)
document.getElementById("hint").onclick = () => alert("Hint: " + clueText);
document.getElementById("skip").onclick = () => { fetchWord(); };
document.getElementById("start").onclick = () => startGame();
document.getElementById("bg-music").onclick = () => {
  if (bgAudio.paused) { bgAudio.play(); document.getElementById("bg-music").textContent="ðŸ”‡ Stop Music"; }
  else { bgAudio.pause(); document.getElementById("bg-music").textContent="ðŸŽµ Play Music"; }
};

function triggerConfetti() {
  // minimal confetti effect using emojis
  const count = 30;
  for (let i=0;i<count;i++){
    const span = document.createElement("span");
    span.textContent = "ðŸŽ‰";
    span.style.position="fixed";
    span.style.top="-20px";
    span.style.left=Math.random()*window.innerWidth+"px";
    span.style.fontSize=Math.random()*20+10+"px";
    document.body.appendChild(span);
    let fall = setInterval(()=>{
      span.style.top = parseFloat(span.style.top)+5+"px";
      if(parseFloat(span.style.top)>window.innerHeight){ clearInterval(fall); span.remove();}
    },16);
  }
}

fetchWord();
</script>

</body>
</html>
